<mat-toolbar color="primary">
    <span>ProjectX</span>
    <span class="spacer"></span>
    <button mat-icon-button [matMenuTriggerFor]="profileMenu" aria-label="Profile menu">
        <img *ngIf="user?.photoURL" [src]="user.photoURL" alt="Profile" class="profile-avatar" />
        <mat-icon *ngIf="!user?.photoURL">account_circle</mat-icon>
    </button>
</mat-toolbar>

<mat-menu #profileMenu="matMenu">
    <div style="padding: 16px 24px; max-width: 220px; text-align: center;">
        <img *ngIf="user?.photoURL" [src]="user.photoURL" alt="Profile" class="profile-avatar-menu" />
        <div style="font-weight: 600; margin-top: 8px;">{{user.displayName}}</div>
        <div style="font-size: 13px; color: #666;">{{user.email}}</div>
    </div>
    <div style="display: flex; justify-content: center; gap: 8px;">
        <button mat-menu-item (click)="onSettings()" style="flex:1;">
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
        </button>
        <button mat-menu-item (click)="logout()" style="flex:1;">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
        </button>
    </div>
</mat-menu>